\subsection{Hyperledger Composer}
        Hyperledger Composer ist ein Framework für das Entwickeln von Blockchain-Netzwerken und dient vornehmlich als Abstraktion des Hyperledger Fabric Frameworks. 
        \medskip\\
        Fabric bietet die Möglichkeit Private- oder Consortium-Blockchainnetzwerke zu entwickeln und zu betreiben, wobei eigens konfigurierbare 
        \medskip\\
        \noindent Für die Entwicklung der Transaktionslogik von Business Networks wird die Sprache JavaScript verwendet. 
        Zusätzlich werden domainspezifische Sprachen für die Modellierung der Akteure im Netzwerk, sowie der Zugriffskontrolle und Anfragen and die Blockchcain eingesetzt.
        Als Datenbank kann LevelDB oder CouchCB verwendet werden. 
        
        \begin{itemize}[noitemsep]
            \item Möglichkeit eine REST-\gls{api} pro Business Network Card mit folgenden Features zu generieren
                \begin{itemize}[noitemsep]
                    \item Nutzung von API-Keys für die Sicherung der REST-\gls{api}
                    \item Authentifizierung via Passport auf Linux-Maschinen
                    \item ,,Explorer Test Interface``, welches automatisch generiert wird und essentiell eine Dokumentation der \gls{api} darstellt mit der zusätzlichen Möglichkeit die \gls{api}-Calls zu testen.
                    \item Key für dynamisches Logging
                    \item Event Publication via WebSocket
                    \item \gls{tls} und HTTPS für die \gls{api}
                \end{itemize}
            \item Bietet die Möglichkeit eine simple Anuglar-App zu generieren, welche letztendlich nur eine GUI-Maske für die \gls{api}-Methoden ist.
            \item Actors im Netzwerk (Peers, Orderers, Client Applications etc. haben eine digitale Identität, welche sich in einem X.509 digitalem Zeritifikat befindet.
                Die Zertifikate sind letztendlich ausschlaggebend für die Zugriffskontrolle und den Rechten, die eine Entität in dem Netzwerk erhält. 
                Zusätzlich können weitere Attribute, die zu einer Identät gehören genutzt werden (wie bspw. Organisiation, Rolle, etc.), welche eine Rolle bei der Bestimmung, welche Rechte diese Entität erhalten soll, spielen können.
            \item Zertifikate kommen von einer vertrausenswürdigen Autortität, dem \gls{msp}. 
                Gleicht einer PKI mit digitalen Zertifikaten, public/\-private Keys, CA und CRL
            \item öffentliche und private Kanäle: Nachrichtenwege, um Privatsphäre von Transaktionen und Vertraulichkeit zu gewährleisten.
                Private Kanäle sind nur für bestimmte Netzwerkmitglieder sichtbar, denen der Channel freigegeben wurde.
            \item Ordering Service: ein oder mehrere Knoten, die Transaktionen in einem Block ordnen
            \item Ledger: Blockchain + World State
            \item Deployable: Business Network Archive (bna)
            \item Historian: registry which records successful transactions, including the participants and identities that submitted them
        \end{itemize}
        
        \begin{itemize}[noitemsep]
            \item Single Organization 
            \item Membership Provider Service
        \end{itemize}
    
\subsection{Architektur und Funktionsweise}
\label{sec:prototype_arch} 
    Da momentan weder eine Standardisierung noch Best Practices von Blockchainarchitekturen existieren, wurde die Architektur des Prototypen anhand der Dokumentation des Frameworks\cite{ComposerDocs}  ausgearbeitet.
    \medskip\\
    \noindent Für den Prototypen relevante Eigenschaften des Hyperledger Composer Frameworks:
    \begin{itemize}[noitemsep]
        \item Ein Blockchain-Netzwerk wird im Kontext des Frameworks als ,,Business Network`` bezeichnet. 
        \item Ein Business Network besteht aus Assets, Participants, Transactions, Access Control Rules, Events (optional) und Queries (optional).
        \item Metadaten wie Dependencies und Versionsnummern werden in einer separaten Datei (\colorbox{light-gray}{\lstinline|package.json|}) abgelegt.
    \end{itemize}
    
    \begin{figure}[H]
		\centering
		\includegraphics[width=\textwidth]{graphics/Composer-Diagram.png}
		\caption[Bestandteile einer Hyperledger Composer-Applikation]{Bestandteile einer Hyperledger Composer-Applikation\cite{ComposerDocs}}
		\label{fig:composer_arch}
	\end{figure}
    
    Notizen für den Prototypen:
    \begin{itemize}[noitemsep]
        \item Ein Asset als Token für (,,du darfst die Tür aufmachen``) je berechtigtem Nutzer \textrightarrow\ zurückverfolgbar (Accountability)
        \item Framework bietet in irgendeiner Form Access Control an?
        \item How to ensure a consistent state across all entities?...
        \item Vendor Server als Teilnehmer im Netzwerk oder nicht?
        \item Vertraulichkeit überhaupt irgendwie möglich oder durch das Konzept der Blockchain schon gar nicht?
        \item Pseudo-/Anonymisierung der Teilnehmer sinnvoll?
        \item Hyperledger biete CA für Identitäten, Authentifizierung
        \item \begin{itemize}
            \item erlaubt Sicherheitseinstellungen beim Erstellen des REST-API-Servers
            \item API Key
            \item Authentication mit Passport
            \item explorer Test interface ?
            \item dynamic logging
            \item event publication over websockets
            \item TLS enable/\-disable
        \end{itemize}
    \end{itemize}
    
    \subsubsection{Konzept}
        \paragraph{\textrm{Model File}}\hspace{0cm}\smallskip\\
            Asset Types:
            \begin{itemize}[noitemsep]
                \item Ein Asset repräsentiert einen Schlüssel, um das Schloss zu öffnen (kann zeitlich beschränkt sein). 
                    Beim Öffnen des Schlosses wird das Asset mittels der Funktion ,,Schloss öffnen`` an Schloss gesendet.
                    Wird das Schloss wieder verriegelt, so sendet das Schloss den Token wieder an Nutzer zurück.
                    Somit kann sichergestellt werden, dass das Schloss geschlossen ist, wenn dieses 0 Token besitzt.
                \item Token, der die Rolle repräsentiert?
                \item Um \gls{dos} zu vermeiden, etwas ähnliches wie Mutex-Token? z.B. wenn Tür offen ist, dann hat sie genau diesen einen Token
                \item Assets können auch zu anderen Assets oder Teilnehmern eine Beziehung haben\cite{ComposerDocs}
            \end{itemize}
            
            Participant Types:
            \begin{itemize}[noitemsep]
                \item Manufacturer
                \item Owner
                \item Guest
            \end{itemize}
            \begin{lstlisting}[caption={Participant Types (TODO)},label=participants,captionpos=b]
asset LockKey identified by keyId {
    o String keyId
    o String expirationDate
    o String lastUsed
    --> User owner
}
participant User identified by userId {
    o String tradeId
    o String firstName
    o String lastName
}

enum LockState {
  o UNLOCKED
  o LOCKED
}

transaction Trade {
    --> Commodity commodity
    --> Trader newOwner
}
            \end{lstlisting}
        
            Transaction Types (entpricht den Funktionen, die man je nach Rolle ausführen darf):
            \begin{itemize}[noitemsep]
                \item OpenDoor
                \item User (AddUser, DeleteUser, ChangeUserRole)
                \item TimeSlot (AddTimeSlot, DeleteTimeSlot, ChangeGuestTimeSlot)
            \end{itemize}
    
    \paragraph{Transaction Functions}
    
    \paragraph{Access Control Rules}
        \begin{itemize}
            \item Whitelisting
        \end{itemize}
    
    \paragraph{Query Definitions}
    
    Rollenbasiertes Zugriffskonzept
    \begin{itemize}[noitemsep]
        \item 
    \end{itemize}